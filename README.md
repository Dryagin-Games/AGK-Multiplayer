# Пример многопользовательского проекта на AppGameKit BASIC (Tier 1)
## Описание
Пример реализации мультиплеера, написанный в AppGameKit.
В сервере реализована работа с WebSocket-протоколом, позволяющий принимать подключения от HTML5-клиентов.
## Содержимое каталога
### Папка с исходным текстом клиента:
Client\Client.agk — проект AppGameKit

Client\main.agc — исходный код клиента
### Папка с исходным текстом сервера:
Server\Client.agk — проект AppGameKit

Server\main.agc — исходный код сервера
## Протокол
### Клиент → Сервер
#### Рукопожатие
Отправляет сразу при подключении
| Смещение | Тип данных | Описание                    |
|:--------:|------------|-----------------------------|
| 0        | byte       | Идентификатор пакета - 0x00 |
| 1        | integer    | Длина имени клиента         |
| 5        | string     | Имя клиента в формате UTF-8 |
#### Пинг
Отправляется незамедлительно, в ответ на запрос от сервера
| Смещение | Тип данных | Описание                    |
|:--------:|------------|-----------------------------|
| 0        | byte       | Идентификатор пакета - 0x01 |
#### Расположение
Отправляется регулярно, с заданным интервалом времени
| Смещение | Тип данных | Описание                    |
|:--------:|------------|-----------------------------|
| 0        | byte       | Идентификатор пакета - 0x04 |
| 1        | float      | Расположение по оси X       |
| 5        | float      | Расположение по оси Y       |
### Сервер → Клиент
#### Рукопожатие
Отправляет в ответ на пакет рукопожатия от клиента
| Смещение | Тип данных | Описание                    |
|:--------:|------------|-----------------------------|
| 0        | byte       | Идентификатор пакета - 0x00 |
| 1        | integer    | Уникальный идентификатор    |
#### Пинг
Отправляется регулярно, с заданным интервалом времени
| Смещение | Тип данных | Описание                    |
|:--------:|------------|-----------------------------|
| 0        | byte       | Идентификатор пакета - 0x01 |
#### Появление клиента
Отправляется всем ранее подключенным клиентам, после того, как новый клиент отправил рукопожатие
| Смещение | Тип данных | Описание                    |
|:--------:|------------|-----------------------------|
| 0        | byte       | Идентификатор пакета - 0x02 |
| 1        | integer    | Уникальный идентификатор    |
| 5        | integer    | Длина имени клиента         |
| 9        | string     | Имя клиента в формате UTF-8 |
#### Удаление клиента
Отправляется всем ранее подключенным клиентам, после того, как один из клиентов был отключен
| Смещение | Тип данных | Описание                    |
|:--------:|------------|-----------------------------|
| 0        | byte       | Идентификатор пакета - 0x03 |
| 1        | integer    | Уникальный идентификатор    |
#### Расположение
Отправляется всем клиентам, после того, как клиент прислал информацию о своем местоположении
| Смещение | Тип данных | Описание                    |
|:--------:|------------|-----------------------------|
| 0        | byte       | Идентификатор пакета - 0x04 |
| 1        | integer    | Уникальный идентификатор    |
| 5        | float      | Расположение по оси X       |
| 9        | float      | Расположение по оси Y       |
## История версий
### 1.0
Первая опубликованная версия
